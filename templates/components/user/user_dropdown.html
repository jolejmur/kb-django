<div class="relative group">
    <button class="flex items-center space-x-3 text-gray-700 hover:text-gray-900 transition-colors">
        {% include 'components/user/user_avatar.html' with size='sm' %}
        <i class="fas fa-chevron-down text-xs"></i>
    </button>

    <!-- Dropdown Menu -->
    <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
        <div class="px-4 py-2 border-b border-gray-100">
            <p class="text-sm font-medium text-gray-900">{{ user.get_full_name|default:user.username }}</p>
            <p class="text-xs text-gray-500">{{ user.email }}</p>
        </div>

        <a href="{% url 'dashboard:profile' %}"
           class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
            <i class="fas fa-user mr-3 text-gray-400"></i>
            Profile
        </a>

        <a href="{% url 'dashboard:edit_profile' %}"
           class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
            <i class="fas fa-cog mr-3 text-gray-400"></i>
            Settings
        </a>

        <div class="border-t border-gray-100 mt-2 pt-2">
            <a href="{% url 'accounts:logout' %}"
               class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors">
                <i class="fas fa-sign-out-alt mr-3"></i>
                Logout
            </a>
        </div>
    </div>
</div>